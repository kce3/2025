import streamlit as st
import random

# ---------------------------
# μ§ν™λ³„ μ¶”μ² λ©”λ‰΄ λ°μ΄ν„°
# ---------------------------
menus = {
    "κ³ νμ••": [("μ €μ—Ό ν•μ‹ λ„μ‹λ½", 6500), ("ν›μ  λ‹­κ°€μ΄μ‚΄ μƒλ¬λ“", 7000), ("ν„λ―Έλ°¥ & λ‚λ¬Ό λ°μ°¬ μ„ΈνΈ", 6000)],
    "λ‹Ήλ‡¨": [("κ³¤μ•½λ°¥ & μ—°μ–΄ λ„μ‹λ½", 7000), ("λ‹­κ°€μ΄μ‚΄ μƒλ¬λ“", 6500), ("λ‘λ¶€ μ¤ν…μ΄ν¬ λ„μ‹λ½", 6800)],
    "κ³ μ§€νμ¦": [("κ·€λ¦¬λ°¥ & μ±„μ†κµ¬μ΄", 6500), ("μ—°μ–΄ μƒλ¬λ“", 7000), ("λ‘λ¶€λΉ„λΉ”λ°¥", 6200)],
    "μ„μ—Ό": [("μ£½ μ„ΈνΈ(λ‹¨νΈλ°•/μ•Όμ±„)", 5500), ("μ—°λ‘λ¶€ λ®λ°¥", 6000), ("μ–‘λ°°μ¶”μ£½", 5800)],
    "κ³Όμ²΄μ¤‘": [("λ‹­κ°€μ΄μ‚΄ μƒλ¬λ“", 6500), ("κ³¤μ•½λΉ„λΉ”λ°¥", 6200), ("ν„λ―Έ μƒλ“μ„μΉ", 6000)],
    "λΉν": [("μ†κ³ κΈ° λ―Έμ—­κµ­ μ„ΈνΈ", 7000), ("μ‹κΈμΉ λ‹¬κ±€λ®λ°¥", 6500), ("κ°„μ—°μ–΄ λ„μ‹λ½", 7200)],
    "μ•„ν† ν”Ό": [("ν„λ―Έλ°¥ & μ±„μ†λ°μ°¬", 6000), ("λ‹­κ°€μ΄μ‚΄ μ±„μ†λ³¶μ", 6500), ("λ‘λ¶€ μƒλ¬λ“", 6200)],
    "κ³¨λ‹¤κ³µμ¦": [("λ©ΈμΉλ³¶μ & μ‹λκΈ°λ°¥", 6000), ("λ‘λ¶€λ²„μ„―μ°κ° μ„ΈνΈ", 6500), ("μ—°μ–΄ μ¤ν…μ΄ν¬ λ„μ‹λ½", 7000)],
}

# ---------------------------
# νμ΄μ§€ μ„¤μ •
# ---------------------------
st.set_page_config(page_title="κ±΄κ°• λ§μ¶¤ μ‹λ‹¨ μ£Όλ¬Έ π±", page_icon="π²", layout="centered")
st.markdown(
    """
    <style>
    body {
        background-color: #fff5e6; /* λ”°λ»ν• λ² μ΄μ§€ ν†¤ */
    }
    .stApp {
        background-color: #fff5e6;
    }
    </style>
    """,
    unsafe_allow_html=True
)

st.title("π± μ§ν™ λ§μ¶¤ κ±΄κ°• μ‹λ‹¨ μ£Όλ¬Έν•κΈ°")
st.write("λ³ΈμΈμ κ±΄κ°• μƒνƒμ— λ§λ” λ©”λ‰΄λ¥Ό ν• λΌλ¶€ν„° μ„Έ λΌκΉμ§€ μμ λ΅­κ² μ„ νƒν•μ„Έμ”!")

# ---------------------------
# μ§ν™ μ„ νƒ
# ---------------------------
selected_conditions = st.multiselect("π‘‰ λ³ΈμΈμ΄ κ°€μ§€κ³  μλ” μ§ν™μ„ μ„ νƒν•μ„Έμ”", list(menus.keys()))

# ---------------------------
# λ‡ λΌ μ£Όλ¬Έν• μ§€ μ„ νƒ
# ---------------------------
meal_count = st.radio("π‘‰ μ¤λ λ‡ λΌ μ£Όλ¬Έν•μ‹κ² μµλ‹κΉ?", [1, 2, 3])

# ---------------------------
# μ¶”μ²λ°›μ„μ§€ μ§μ ‘ κ³ λ¥Όμ§€
# ---------------------------
order_type = st.radio("π‘‰ λ©”λ‰΄ μ„ νƒ λ°©μ‹μ„ κ³¨λΌμ£Όμ„Έμ”", ["μ¶”μ²λ°›κΈ° π€", "μ§μ ‘ κ³ λ¥΄κΈ° β‹"])

# ---------------------------
# μ£Όλ¬Έ μ²λ¦¬
# ---------------------------
if selected_conditions:
    st.subheader("π“ μ¤λμ μ£Όλ¬Έ")

    total_price = 0
    meals = ["μ•„μΉ¨ π…", "μ μ‹¬ π", "μ €λ… π™"]

    for i in range(meal_count):
        if order_type == "μ¶”μ²λ°›κΈ° π€":
            condition = random.choice(selected_conditions)
            menu, price = random.choice(menus[condition])
            st.write(f"**{meals[i]}**: {menu} ({price}μ›) - μ¶”μ² μ§ν™: {condition}")
        else:
            condition = st.selectbox(f"{meals[i]} λ©”λ‰΄λ¥Ό κ³ λ¥΄μ„Έμ”", selected_conditions, key=f"cond_{i}")
            menu, price = random.choice(menus[condition])
            st.write(f"**{meals[i]}**: {menu} ({price}μ›) - μ„ νƒ μ§ν™: {condition}")
        total_price += price

    st.subheader(f"π’° μ΄ ν•©κ³„: {total_price} μ›")
else:
    st.warning("β οΈ μ§ν™μ„ μµμ† 1κ° μ΄μƒ μ„ νƒν•΄μ£Όμ„Έμ”!")
